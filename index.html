<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤œã®å¤§äººã®IQãƒ†ã‚¹ãƒˆ | â˜…ã‚ªãƒ«ã‚¬ã‚°ãƒ­ãƒ¼ãƒãƒ«â˜…Presents</title>

    <meta property="og:title" content="å¤œã®å¤§äººã®IQãƒ†ã‚¹ãƒˆ | ã‚ªãƒ«ã‚¬ã‚°ãƒ­ãƒ¼ãƒãƒ«Presents">
    <meta property="og:description" content="10å•ã§åˆ†ã‹ã‚‹ï¼ã‚ãªãŸã®å¤œã®ã‚ªãƒˆãƒŠã®çŸ¥è­˜åº¦ã¯ï¼Ÿ">
    <meta property="og:image" content="https://zeroplus1234.github.io/night-iq/top-image.jpg">
    <meta name="twitter:card" content="summary_large_image">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --main-bg: #0d0d0d; --neon-pink: #ff007f; --neon-blue: #00f2ff; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: var(--main-bg); color: #fff; text-align: center; margin: 0; padding: 20px; }
        .container { max-width: 500px; margin: auto; }
        .card { background: #1a1a1a; padding: 25px; border-radius: 20px; border: 1px solid #333; box-shadow: 0 0 20px rgba(0,0,0,0.5); min-height: 300px; }
        
        /* ãƒ¡ã‚¤ãƒ³ç”»åƒã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .top-banner { width: 100%; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 0 10px rgba(255, 0, 127, 0.3); }

        h1 { color: var(--neon-pink); text-shadow: 0 0 10px var(--neon-pink); font-size: 20px; margin: 10px 0; }
        input { background: #333; border: 1px solid var(--neon-blue); color: #fff; padding: 12px; border-radius: 25px; width: 80%; text-align: center; margin-bottom: 20px; font-size: 16px; }
        
        .btn { cursor: pointer; padding: 12px 24px; border-radius: 25px; font-weight: bold; transition: 0.3s; border: none; margin: 10px; display: inline-block; font-size: 16px; }
        .btn-start { background: var(--neon-pink); color: #fff; box-shadow: 0 0 15px var(--neon-pink); width: 80%; }
        .btn-o { background: var(--neon-pink); color: #fff; width: 100px; font-size: 24px; }
        .btn-x { background: var(--neon-blue); color: #000; width: 100px; font-size: 24px; }
        .btn-next { background: #fff; color: #000; width: 80%; margin-top: 20px; }

        #quizArea, #feedbackArea, #resultArea { display: none; }
        .question-text { font-size: 18px; line-height: 1.6; margin: 20px 0; min-height: 80px; display: flex; align-items: center; justify-content: center; }
        
        .judge-text { font-size: 28px; font-weight: bold; margin-bottom: 10px; }
        .correct { color: var(--neon-blue); }
        .incorrect { color: var(--neon-pink); }
        .explanation-text { font-size: 15px; line-height: 1.6; background: #2a2a2a; padding: 15px; border-radius: 10px; text-align: left; }

        /* çµæœç”»åƒç”Ÿæˆã‚¨ãƒªã‚¢ï¼ˆç”»é¢å¤–ï¼‰ */
        #resultCaptureArea { position: absolute; left: -9999px; width: 1000px; height: 1000px; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; color: #fff; border: 10px solid var(--neon-pink); }
        .res-rank { font-size: 100px; font-weight: bold; color: var(--neon-pink); text-shadow: 0 0 30px var(--neon-pink); margin: 20px 0; }
        
        #generatedImage { max-width: 100%; border-radius: 10px; box-shadow: 0 0 20px var(--neon-pink); margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <div id="startArea" class="card">
        <img src="top-image.jpg" class="top-banner" alt="å¤œã®å¤§äººã®IQãƒ†ã‚¹ãƒˆ">
        
        <h1>å¤œã®å¤§äººã®IQãƒ†ã‚¹ãƒˆ</h1>
        <p style="font-size: 14px; color: #ccc;">ã‚ªãƒ«ã‚¬ã‚°ãƒ­ãƒ¼ãƒãƒ«Presents<br>10å•ã§åˆ†ã‹ã‚‹ï¼ã‚ãªãŸã®å¤œã®IQã¦ã™ã¨</p>
        
        <input type="text" id="userName" placeholder="åå‰ã‚’å…¥åŠ›">
        <br>
        <button class="btn btn-start" onclick="startQuiz()">è¨ºæ–­ã‚’é–‹å§‹ã™ã‚‹</button>
    </div>

    <div id="quizArea" class="card">
        <div id="qNum" style="color:#888; font-size: 14px;"></div>
        <div class="question-text" id="qText"></div>
        <div id="answerButtons">
            <button class="btn btn-o" onclick="checkAnswer(true)">ã€‡</button>
            <button class="btn btn-x" onclick="checkAnswer(false)">Ã—</button>
        </div>
    </div>

    <div id="feedbackArea" class="card">
        <div id="judge" class="judge-text"></div>
        <div class="explanation-text" id="exText"></div>
        <button class="btn btn-next" onclick="nextQuestion()">æ¬¡ã¸é€²ã‚€</button>
    </div>

    <div id="resultArea" class="card">
        <h2>è¨ºæ–­å®Œäº†ï¼</h2>
        <div id="loading" style="color: var(--neon-blue);">çµæœç”»åƒã‚’ç”Ÿæˆä¸­...</div>
        <img id="generatedImage" alt="Result Image">
        <br>
        <p style="font-size: 13px; color: #888; margin-top: 15px;">ç”»åƒã‚’ä¿å­˜ã—ã¦Xã«æ·»ä»˜ã—ã¦ã­ï¼ğŸ“¸</p>
        <a id="downloadLink" class="btn btn-start" style="text-decoration:none;" download="night_iq_result.png">ç”»åƒã‚’ä¿å­˜ã™ã‚‹</a>
        <br>
        <a id="shareLink" class="btn" style="background:#fff; color:#000; text-decoration:none;" target="_blank">Xã§å ±å‘Šã™ã‚‹</a>
    </div>
</div>

<div id="resultCaptureArea">
    <div style="font-size:35px; margin-bottom:10px;" id="capName"></div>
    <div style="font-size:45px; letter-spacing: 5px;">å¤œã®IQè¨ºæ–­çµæœ</div>
    <div class="res-rank" id="capRank"></div>
    <div style="font-size:55px; color:var(--neon-blue); margin-bottom:20px;" id="capScore"></div>
    <div style="font-size:34px; width:85%; color:#ddd; line-height:1.4;" id="capDesc"></div>
    <div style="margin-top:60px; font-size:26px; color:#555;">#å¤§äººã®å¤œã®IQè¨ºæ–­ #ã‚ªãƒ«ã‚¬ã‚°ãƒ­ãƒ¼ãƒãƒ«</div>
</div>

<script>
    let currentQ = 0; let score = 0; let userName = "";
    const quizData = [
        { q: "ã€ŒNetflix & Chillã€ã«èª˜ã‚ã‚ŒãŸã‚‰ã€ç´”ç²‹ã«æ–°ä½œæ˜ ç”»ã‚’æ¥½ã—ã‚€ã®ãŒæ­£è§£ã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šã“ã‚Œã¯ä¸–ç•Œå…±é€šã®ã€ŒãŠèª˜ã„ã€ã®åˆå›³ã€‚ãƒãƒƒãƒ—ã‚³ãƒ¼ãƒ³ã‚’è²·ã£ã¦è¡Œãã¨ç©ºæ°—ãŒå‡ã‚‹ã‹ã‚‚ã€‚" },
        { q: "é¦™æ°´ã¯ã€æ‰‹é¦–ã«ã¤ã‘ãŸå¾Œã«ã‚´ã‚·ã‚´ã‚·æ“¦ã‚Šåˆã‚ã›ã‚‹ã®ãŒã€é¦™ã‚Šã‚’é•·æŒã¡ã•ã›ã‚‹ç§˜è¨£ã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šæ“¦ã‚‹ã¨é¦™ã‚Šã®ç²’å­ãŒå£Šã‚Œã€æœ¬æ¥ã®é¦™ã‚ŠãŒç«‹ã¡ã¾ã›ã‚“ã€‚è»½ããƒˆãƒ³ãƒˆãƒ³ã¨å©ãã®ãŒæ­£è§£ã€‚" },
        { q: "ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³ã®ã‚³ãƒ«ã‚¯ã‚’é–‹ã‘ã‚‹æ™‚ã€ã€Œãƒãƒ³ãƒƒï¼ã€ã¨å¤§ããªéŸ³ã‚’æ´¾æ‰‹ã«é³´ã‚‰ã™ã®ãŒãƒãƒŠãƒ¼ã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šé™ã‹ã«é–‹ã‘ã‚‹ã®ãŒä¸Šå“ã€‚ãã®éŸ³ã¯ã€Œæ·‘å¥³ã®æºœæ¯ã€ã¨å‘¼ã°ã‚Œã€ãƒãƒŠãƒ¼ã¨ã—ã¦é‡å®ã•ã‚Œã¾ã™ã€‚" },
        { q: "ãƒ©ãƒ–ãƒ›ãƒ†ãƒ«ã®ã€Œãƒ•ãƒªãƒ¼ã‚¿ã‚¤ãƒ ã€ã¨ã¯ã€ãƒ‰ãƒªãƒ³ã‚¯ã®é£²ã¿æ”¾é¡ŒãŒä»˜ã„ã¦ã„ã‚‹æ™‚é–“ã®ã“ã¨ã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šã‚µãƒ¼ãƒ“ã‚¹ã‚¿ã‚¤ãƒ ã®ç•¥ã€‚å®šé¡ã§é•·æ™‚é–“æ»åœ¨ã§ãã‚‹ãŠå¾—ãªã‚·ã‚¹ãƒ†ãƒ ã®ã“ã¨ã§ã™ã€‚" },
        { q: "ãƒ©ãƒ–ãƒ›ã®è‡ªå‹•ç²¾ç®—æ©Ÿã®éŸ³é‡ãŒå¤§ãã„ã®ã¯ã€å˜ã«æ©Ÿæ¢°ãŒå¤ã„ã‹ã‚‰ã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šå»Šä¸‹ã§ä»–ã®å®¢ã¨é‰¢åˆã‚ã›ãªã„ã‚ˆã†ã€å‘¨å›²ã«ã€Œä»Šã€ç²¾ç®—ä¸­ã§ã™ã‚ˆã€ã¨çŸ¥ã‚‰ã›ã‚‹ãŸã‚ã®é…æ…®ã§ã™ã€‚" },
        { q: "ã€Œé…”ã£ã¡ã‚ƒã£ãŸã€ã¨è¨€ã†ç›¸æ‰‹ã«å¯¾ã—ã€å³åº§ã«ã€ŒãŠæ°´é£²ã‚€ï¼Ÿã€ã¨æ­£è«–ã§è¿”ã™ã®ã¯ã€å¤œã®IQãŒé«˜ã„ã€‚", a: false, ex: "Ã—ï¼šæ­£è«–ã¯æ™‚ã«ãƒ ãƒ¼ãƒ‰ã‚’å£Šã—ã¾ã™ã€‚ç›¸æ‰‹ãŒä½•ã‚’æ±‚ã‚ã¦ã„ã‚‹ã®ã‹ã‚’å¯Ÿã™ã‚‹ã®ã‚‚å¤§äººã®IQã€‚" },
        { q: "ã‚³ãƒ³ãƒ‰ãƒ¼ãƒ ã‚’è²¡å¸ƒã«å…¥ã‚Œã¦æŒã¡æ­©ãã®ã¯ã€ã‚´ãƒ ã®åŠ£åŒ–ã‚’æ‹›ããŸã‚é¿ã‘ã‚‹ã¹ãã§ã‚ã‚‹ã€‚", a: true, ex: "ã€‡ï¼šæ‘©æ“¦ã‚„ä½“æ¸©ã§ã‚´ãƒ ãŒåŠ£åŒ–ã—ã€ç ´æã®åŸå› ã«ãªã‚Šã¾ã™ã€‚å°‚ç”¨ã®ã‚±ãƒ¼ã‚¹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚" },
        { q: "ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã‚’é£²ã‚€ã¨ã€Œå¤œã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãŒå‘ä¸Šã™ã‚‹ã¨ã„ã†ã®ã¯ã€åŒ»å­¦çš„ãªäº‹å®Ÿã§ã‚ã‚‹ã€‚", a: false, ex: "Ã—ï¼šæ„Ÿè¦šãŒéˆã‚Šã€è„±æ°´ç—‡çŠ¶ã‚‚é€²ã‚€ãŸã‚ã€å®Ÿéš›ã«ã¯é€†åŠ¹æœã«ãªã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚" },
        { q: "ã€Œç”Ÿç†ä¸­ãªã‚‰çµ¶å¯¾ã«å¦Šå¨ ã—ãªã„ã€ã¨ã„ã†èª¬ã¯ã€åŒ»å­¦çš„ã«100%æ­£ã—ã„ã€‚", a: false, ex: "Ã—ï¼šæ’åµå‘¨æœŸã®ã‚ºãƒ¬ãªã©ã«ã‚ˆã‚Šã€ç”Ÿç†ä¸­ã§ã‚‚å¦Šå¨ ã™ã‚‹å¯èƒ½æ€§ã¯ã‚¼ãƒ­ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚" },
        { q: "ãƒ‡ãƒ¼ãƒˆã®èª˜ã„ã§ã€Œæ˜æ—¥ä¼‘ã¿ï¼Ÿã€ã¨èãã®ã¯ã€å˜ãªã‚‹ã‚·ãƒ•ãƒˆç¢ºèªã§ã¯ãªãã€ŒãŠæ³Šã¾ã‚Šã®æ‰“è¨ºã€ã§ã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚", a: true, ex: "ã€‡ï¼šç›¸æ‰‹ã®ç¿Œæ—¥ã®äºˆå®šã‚’ç¢ºèªã™ã‚‹ã®ã¯ã€æš—ã«ã€æ™‚é–“ã‚’æ°—ã«ã—ãªãã¦ã„ã„ã‚ˆã­ï¼Ÿã€ã¨ã„ã†ç¢ºèªã§ã™ã€‚" }
    ];

    function startQuiz() {
        userName = document.getElementById('userName').value || "ã‚²ã‚¹ãƒˆ";
        document.getElementById('startArea').style.display = 'none';
        document.getElementById('quizArea').style.display = 'block';
        showQuestion();
    }

    function showQuestion() {
        document.getElementById('qNum').innerText = `ç¬¬ ${currentQ + 1} å• / 10`;
        document.getElementById('qText').innerText = quizData[currentQ].q;
        document.getElementById('quizArea').style.display = 'block';
        document.getElementById('feedbackArea').style.display = 'none';
    }

    function checkAnswer(userAns) {
        const isCorrect = (userAns === quizData[currentQ].a);
        if (isCorrect) { score++; }
        document.getElementById('quizArea').style.display = 'none';
        document.getElementById('feedbackArea').style.display = 'block';
        const judge = document.getElementById('judge');
        judge.innerText = isCorrect ? "æ­£è§£ï¼" : "ä¸æ­£è§£...";
        judge.className = "judge-text " + (isCorrect ? "correct" : "incorrect");
        document.getElementById('exText').innerText = quizData[currentQ].ex;
    }

    function nextQuestion() {
        currentQ++;
        if (currentQ < quizData.length) { showQuestion(); } else { showResult(); }
    }

    function showResult() {
        document.getElementById('feedbackArea').style.display = 'none';
        document.getElementById('resultArea').style.display = 'block';

        let rank = ""; let desc = "";
        if (score === 10) { rank = "å¤œã®å¸ç‹/å¥³å¸"; desc = "ã™ã¹ã¦ã¯ãŠè¦‹é€šã—ã€‚æ‚Ÿã‚Šã‚’é–‹ã„ãŸå¤§äººã®é‘‘ã€‚"; }
        else if (score >= 8) { rank = "å¤œã®ç†Ÿç·´è€…"; desc = "é…¸ã„ã‚‚ç”˜ã„ã‚‚å™›ã¿åˆ†ã‘ãŸã€å¤œã®ç¤¾äº¤ç•Œã®ä½äººã€‚"; }
        else if (score >= 5) { rank = "å¥å…¨ãªä¸€èˆ¬äºº"; desc = "ã»ã©ã‚ˆãçœŸé¢ç›®ã€‚ã‚‚ã†å°‘ã—éŠã³å¿ƒã‚’æŒã£ã¦ã‚‚ã„ã„ã‹ã‚‚ã€‚"; }
        else { rank = "ç”Ÿã¾ã‚ŒãŸã¦ã®å°é¹¿"; desc = "å±é™ºãŒã„ã£ã±ã„ï¼ã¾ãšã¯ã€ŒçŒ«è¦‹ãªã„ï¼Ÿã€ã«ä»˜ã„ã¦ã„ã‹ãªã„ã“ã¨ã€‚"; }

        document.getElementById('capName').innerText = userName + " ã•ã‚“ã®";
        document.getElementById('capRank').innerText = rank;
        document.getElementById('capScore').innerText = score + " / 10ç‚¹";
        document.getElementById('capDesc').innerText = desc;

        setTimeout(() => {
            html2canvas(document.getElementById('resultCaptureArea')).then(canvas => {
                const imgData = canvas.toDataURL("image/png");
                document.getElementById('generatedImage').src = imgData;
                document.getElementById('downloadLink').href = imgData;
                document.getElementById('loading').style.display = 'none';
                
                // â˜…Xã‚·ã‚§ã‚¢ç”¨ã®URLã¨ãƒ†ã‚­ã‚¹ãƒˆâ˜…
                const shareUrl = "https://zeroplus1234.github.io/night-iq/";
                const tweetText = encodeURIComponent(
                    `${userName}ã•ã‚“ã®å¤œã®IQã¯ã€${score}/10ç‚¹ã€‘ãƒ©ãƒ³ã‚¯ï¼š${rank}ã§ã—ãŸï¼\n\n` +
                    `â€»ä¸‹ã®ç”»åƒã‚’ä¿å­˜ã—ã¦ã€ã“ã®ãƒã‚¹ãƒˆã«æ·»ä»˜ã—ã¦ã­ï¼ğŸ“¸\n\n` +
                    `â–¼ä»Šã™ãæ¸¬å®šï¼\n${shareUrl}\n` +
                    `#å¤§äººã®å¤œã®IQè¨ºæ–­ #ã‚ªãƒ«ã‚¬ã‚°ãƒ­ãƒ¼ãƒãƒ«`
                );
                document.getElementById('shareLink').href = `https://twitter.com/intent/tweet?text=${tweetText}`;
            });
        }, 600);
    }
</script>
</body>
</html>
